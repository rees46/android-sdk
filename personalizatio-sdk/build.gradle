apply plugin: 'com.android.library'

version='1.0.0'

android {
	compileSdkVersion 28

	defaultConfig {
		minSdkVersion 21
		targetSdkVersion 28
		versionCode 1
		versionName version

		testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
	}

	buildTypes {
		release {
			minifyEnabled false
			proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
		}
	}

	compileOptions {
		sourceCompatibility JavaVersion.VERSION_1_8
		targetCompatibility JavaVersion.VERSION_1_8
	}
}



dependencies {
	implementation fileTree(dir: 'libs', include: ['*.jar'])

	testImplementation 'junit:junit:4.12'
	androidTestImplementation 'com.android.support.test:runner:1.0.2'
	androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'
	implementation 'com.google.firebase:firebase-core:16.0.4'
	implementation 'com.google.firebase:firebase-messaging:17.3.4'
}






apply plugin: 'com.github.dcendents.android-maven'
apply plugin: 'com.jfrog.bintray'


group='com.personalizatio'

bintray {
	user = bintray_user //this usually comes from gradle.properties file in ~/.gradle
	key = bintray_api_key //this usually comes from gradle.properties file in ~/.gradle

	configurations = ['archives']
	pkg {
		repo = 'maven'
		name = 'com.personalizatio.sdk'
		websiteUrl = 'https://rees46.com'
		vcsUrl = 'https://github.com/rees46/rees46-android-sdk'
		licenses = ['GPL-2.0']
		githubRepo = 'rees46/rees46-android-sdk'
//		githubReleaseNotesFile = 'README.md'
		publish = true
	}

}

task sourcesJar(type: Jar) {
	from android.sourceSets.main.java.srcDirs
	classifier = 'sources'
}

task javadoc(type: Javadoc) {
	source = android.sourceSets.main.java.srcDirs
	classpath += project.files(android.getBootClasspath().join(File.pathSeparator))
}

task javadocJar(type: Jar, dependsOn: javadoc) {
	classifier = 'javadoc'
	from javadoc.destinationDir
	// options.encoding = 'UTF-8'
}

artifacts {
	archives javadocJar
	archives sourcesJar
}